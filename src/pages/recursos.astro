---
import Layout from "../layouts/Layout.astro";

const resources = [
  {
    title: "Lista de Poderes",
    description:
      "Consulta la lista completa de poderes disponibles, filtrables por origen, tipo y con sus costes actualizados.",
    link: "/recursos/poderes",
    type: "Herramienta",
    icon: "ðŸ’¥",
  },
  {
    title: "Lista de Hechizos",
    description:
      "Consulta la lista de hechizos disponibles, sus costes de EnergÃ­a MÃ¡gica (EM) y requisitos.",
    link: "/recursos/hechizos",
    type: "Herramienta",
    icon: "âœ¨",
  },
  {
    title: "HÃ©roe Agenda: Sobrenaturales y Arcanos",
    description:
      "ExpansiÃ³n para el juego de rol espaÃ±ol de superhÃ©roes por antonomasia. Descubre los secretos de la magia y lo oculto.",
    link: "https://suseyaediciones.com/producto/heroe-agenda-sobrenaturales-y-arcanos/",
    type: "Libro oficial",
    icon: "ðŸ“š",
  },
  {
    title: "Ficha de Personaje Editable",
    description:
      "Descarga la hoja de personaje en PDF editable para tus partidas.",
    link: "/public/pdfs/SHI_HOJA_DE_PERSONAJE_EDITABLE.pdf",
    type: "Descarga",
    icon: "ðŸ“„",
  },
  {
    title: "Fichas de Personaje Oficiales",
    description: "Descarga las fichas de personaje en PDF para tus partidas.",
    link: "https://suseyaediciones.com/wp-content/uploads/2024/06/Fichas-de-Superheroes-Inc-3a.pdf",
    type: "Descarga",
    icon: "ðŸ“„",
  },
  {
    title: "Superheroes INC. Tercera EdiciÃ³n",
    description: "Libro bÃ¡sico para jugar Superheroes INC.",
    link: "https://suseyaediciones.com/producto/superheroes-inc-3a/",
    type: "Libro oficial",
    icon: "ðŸ“š",
  },
];
const oldresources = [
  {
    title: "Kit de IniciaciÃ³n",
    description:
      "Todo lo que necesitas para empezar a jugar: reglas bÃ¡sicas y una aventura lista para usar.",
    link: "#",
    type: "Descarga",
    icon: "ðŸŽ²",
  },
  {
    title: "Generador de Fichas",
    description:
      "Crea tus propios personajes y expÃ³rtalos en JSON para la web.",
    link: "/recursos/generador-fichas",
    type: "Herramienta",
    icon: "âš¡",
  },
];
---

<Layout title="Recursos">
  <section class="resources-page">
    <h1 class="page-title">Recursos</h1>
    <p class="intro-text">
      Material oficial para enriquecer tus partidas de Superheroes INC.
    </p>

    <div class="filters">
      <button class="filter-btn active" data-filter="all">Todos</button>
      {
        [...new Set(resources.map((r) => r.type))].map((type) => (
          <button class="filter-btn" data-filter={type}>
            {type}
          </button>
        ))
      }
    </div>

    <div class="resources-list">
      {
        resources.map((resource) => (
          <div class="resource-item" data-type={resource.type}>
            <div class="resource-icon">{resource.icon}</div>
            <div class="resource-content">
              <div class="resource-header">
                <h2>{resource.title}</h2>
                <span class="resource-type">{resource.type}</span>
              </div>
              <p>{resource.description}</p>
              <a
                href={resource.link}
                target="_blank"
                rel="noopener noreferrer"
                class="comic-button"
              >
                {resource.link === "#" ? "PrÃ³ximamente" : "ACCEDER"}
              </a>
            </div>
          </div>
        ))
      }
    </div>
  </section>
</Layout>

<script>
  const filterBtns = document.querySelectorAll(".filter-btn");
  const resourceItems = document.querySelectorAll(".resource-item");

  filterBtns.forEach((btn) => {
    btn.addEventListener("click", () => {
      // Remove active class from all buttons
      filterBtns.forEach((b) => b.classList.remove("active"));
      // Add active class to clicked button
      btn.classList.add("active");

      const filterValue = btn.getAttribute("data-filter");

      resourceItems.forEach((item) => {
        const itemType = item.getAttribute("data-type");
        if (filterValue === "all" || filterValue === itemType) {
          (item as HTMLElement).style.display = "flex";
        } else {
          (item as HTMLElement).style.display = "none";
        }
      });
    });
  });
</script>

<style>
  .resources-page {
    padding: 2rem 0;
    max-width: 1000px;
    margin: 0 auto;
  }

  .page-title {
    font-size: 3.5rem;
    margin-bottom: 1rem;
    color: var(--color-secondary);
    text-shadow: 3px 3px 0px var(--color-primary);
  }

  .intro-text {
    font-size: 1.2rem;
    margin-bottom: 3rem;
  }

  .filters {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .filter-btn {
    background: transparent;
    border: 2px solid var(--color-secondary);
    padding: 0.5rem 1.5rem;
    font-family: var(--font-comic);
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.2s;
    color: var(--color-text);
  }

  .filter-btn:hover,
  .filter-btn.active {
    background: var(--color-secondary);
    color: white;
    transform: translateY(-2px);
    box-shadow: 4px 4px 0px var(--color-primary);
  }

  .resources-list {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .resource-item {
    display: flex;
    gap: 2rem;
    background: white;
    border: 4px solid var(--color-secondary);
    padding: 2rem;
    box-shadow: 8px 8px 0px var(--color-secondary);
    transition: transform 0.2s;
  }

  .resource-item[style*="display: none"] {
    display: none !important;
  }

  .resource-item:hover {
    transform: translateX(-5px);
  }

  .resource-icon {
    font-size: 4rem;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 100px;
  }

  .resource-content {
    flex-grow: 1;
  }

  .resource-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
  }

  .resource-header h2 {
    font-size: 1.8rem;
    margin: 0;
    color: var(--color-secondary);
  }

  .resource-type {
    background: var(--color-secondary);
    color: white;
    padding: 0.2rem 0.8rem;
    font-family: var(--font-comic);
    font-size: 0.9rem;
    transform: rotate(-2deg);
  }

  .resource-content p {
    margin-bottom: 1.5rem;
    line-height: 1.6;
  }

  @media (max-width: 600px) {
    .resource-item {
      flex-direction: column;
      gap: 1rem;
      text-align: center;
    }

    .resource-header {
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }
  }
</style>
